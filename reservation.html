<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>eã‚‹ã‚Šãã‚…ã† | åˆ—è»Šäºˆç´„ | äº¬è¯é¢¨ã®èŠ½</title>
  <meta name="description" content="äº¬è¯é¢¨ã®èŠ½ã‚°ãƒ«ãƒ¼ãƒ—ã®åˆ—è»Šäºˆç´„ã‚µãƒ¼ãƒ“ã‚¹ã€Œeã‚‹ã‚Šãã‚…ã†ã€ã§ã™ã€‚">
  <link rel="icon" href="images/favicon.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Inter:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* ==================== æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  ==================== */
    .search-box {
      background: var(--color-white);
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      padding: 40px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.06);
    }
    .search-grid {
      display: grid;
      grid-template-columns: 1fr 44px 1fr;
      gap: 12px;
      align-items: end;
      margin-bottom: 20px;
    }
    .search-grid .swap-btn {
      height: 44px;
      width: 44px;
      border: 1px solid var(--color-border);
      border-radius: 50%;
      background: var(--color-bg);
      cursor: pointer;
      font-size: 1.1rem;
      color: var(--color-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }
    .search-grid .swap-btn:hover { background: var(--color-secondary); color: white; }
    .search-sub-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }
    .search-box label {
      display: block;
      font-size: 0.75rem;
      letter-spacing: 0.12em;
      color: var(--color-primary);
      font-weight: 700;
      margin-bottom: 6px;
    }
    .search-box select,
    .search-box input[type="date"],
    .search-box input[type="number"] {
      width: 100%;
      height: 44px;
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 0 12px;
      font-size: 0.95rem;
      font-family: var(--font-ja);
      color: var(--color-primary);
      background: var(--color-bg);
      appearance: none;
      -webkit-appearance: none;
    }
    .search-box select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%232d5016' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      padding-right: 32px;
    }

    /* ==================== æ¤œç´¢ã‚¿ãƒ– ==================== */
    .search-tabs {
      display: flex;
      max-width: 800px;
      gap: 0;
      margin-bottom: 0;
    }
    .search-tab {
      padding: 11px 28px;
      border: 1px solid var(--color-border);
      border-bottom: none;
      border-radius: 8px 8px 0 0;
      background: #e8eef5;
      color: var(--color-text-light);
      font-size: 0.85rem;
      font-family: var(--font-ja);
      letter-spacing: 0.08em;
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
      margin-right: 4px;
    }
    .search-tab.active {
      background: var(--color-white);
      color: var(--color-primary);
      font-weight: 700;
      border-color: var(--color-border);
      position: relative;
      bottom: -1px;
      padding-bottom: 12px;
      z-index: 1;
    }
    .search-tab:hover:not(.active) { background: #d4dce8; color: var(--color-primary); }
    .search-box { border-radius: 0 8px 8px 8px; position: relative; }

    /* ==================== æ¤œç´¢çµæœ ==================== */
    #results-section { display: none; margin-top: 48px; }
    .result-header {
      display: flex;
      align-items: baseline;
      gap: 16px;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--color-border);
    }
    .result-header h2 {
      font-size: 1rem;
      letter-spacing: 0.1em;
      color: var(--color-primary);
      font-weight: 700;
    }
    .result-count { font-size: 0.82rem; color: var(--color-text-light); }

    /* åˆ—è»Šã‚«ãƒ¼ãƒ‰ */
    .train-card {
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      margin-bottom: 12px;
      overflow: hidden;
      transition: box-shadow 0.2s;
    }
    .train-card:hover { box-shadow: 0 4px 16px rgba(0,0,0,0.08); }
    .train-card-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 16px;
      background: var(--color-bg);
      border-left: 4px solid var(--color-secondary);
    }
    .train-type-badge {
      font-size: 0.72rem;
      font-weight: 700;
      color: white;
      padding: 3px 10px;
      border-radius: 2px;
      letter-spacing: 0.08em;
    }
    .train-line-name {
      font-size: 0.8rem;
      color: var(--color-text-light);
      letter-spacing: 0.06em;
    }
    .train-card-body {
      padding: 16px 20px;
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 20px;
      align-items: center;
    }
    .train-times {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .dep-time, .arr-time {
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--color-primary);
      letter-spacing: 0.01em;
      font-variant-numeric: tabular-nums;
    }
    .travel-arrow {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    .travel-min {
      font-size: 0.72rem;
      color: var(--color-text-light);
      letter-spacing: 0.06em;
    }
    .arrow-line {
      width: 60px;
      height: 1px;
      background: var(--color-border);
      position: relative;
    }
    .arrow-line::after {
      content: 'â–¶';
      position: absolute;
      right: -4px;
      top: -7px;
      font-size: 0.6rem;
      color: var(--color-text-light);
    }
    .train-station-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--color-text-light);
      margin-top: 6px;
      letter-spacing: 0.06em;
    }
    .train-fare-area {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 10px;
    }
    .fare-price {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--color-primary);
      letter-spacing: -0.01em;
    }
    .fare-note { font-size: 0.72rem; font-weight: 400; color: var(--color-text-light); }
    .seat-avail {
      font-size: 0.78rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      padding: 2px 8px;
      border-radius: 2px;
    }
    .seat-avail.available { color: #1c3a6e; background: #daeaf8; }
    .seat-avail.low-seat  { color: #c0392b; background: #fdecea; }
    .seat-avail.sold-out  { color: #999;    background: #f0f0f0; }
    .reserve-btn { padding: 10px 20px; font-size: 0.82rem; white-space: nowrap; }
    .reserve-btn:disabled { opacity: 0.4; cursor: not-allowed; }

    /* ==================== ãƒ¢ãƒ¼ãƒ€ãƒ« ==================== */
    #reserve-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    #reserve-modal.open { display: flex; }
    .modal-inner {
      background: white;
      border-radius: var(--radius);
      padding: 40px;
      width: 100%;
      max-width: 480px;
      max-height: 90vh;
      overflow-y: auto;
    }
    .modal-title {
      font-size: 1.05rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      color: var(--color-primary);
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--color-border);
    }
    .modal-summary {
      background: var(--color-bg);
      border-radius: 4px;
      padding: 16px;
      font-size: 0.88rem;
      color: var(--color-text-light);
      line-height: 1.9;
      letter-spacing: 0.05em;
      margin-bottom: 28px;
    }
    .modal-close {
      position: absolute;
      top: 0;
      right: 0;
      width: 40px;
      height: 40px;
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: var(--color-text-light);
    }

    /* ==================== ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ==================== */
    #search-alert {
      display: none;
      padding: 14px 20px;
      background: #fdecea;
      border-left: 4px solid #c0392b;
      border-radius: 4px;
      font-size: 0.88rem;
      color: #c0392b;
      margin-top: 16px;
    }
    #reserve-success {
      display: none;
      padding: 24px;
      background: #daeaf8;
      border-left: 4px solid var(--color-secondary);
      border-radius: var(--radius);
      font-size: 0.88rem;
      color: var(--color-primary);
      line-height: 2;
      letter-spacing: 0.05em;
      margin-top: 32px;
    }

    /* ==================== è·¯ç·šæ¡ˆå†… ==================== */
    .line-guide {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-top: 16px;
    }
    .line-guide-card {
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 16px;
      border-left-width: 4px;
    }
    .line-guide-card h4 {
      font-size: 0.85rem;
      font-weight: 700;
      letter-spacing: 0.06em;
      color: var(--color-primary);
      margin-bottom: 6px;
    }
    .line-guide-card .operator {
      font-size: 0.72rem;
      color: var(--color-text-light);
      margin-bottom: 8px;
    }
    .station-list {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }
    .station-pill {
      font-size: 0.7rem;
      padding: 2px 8px;
      background: var(--color-bg);
      border-radius: 20px;
      color: var(--color-text-light);
      letter-spacing: 0.04em;
    }

    /* ==================== åº§å¸­ãƒãƒƒãƒ— ==================== */
    .modal-inner { max-width: 560px !important; }
    .modal-step-ind { display:none; align-items:center; gap:6px; margin-bottom:14px; font-size:0.75rem; flex-wrap:wrap; }
    .modal-step-ind.show { display:flex; }
    .msi-item { color:#ccc; font-weight:600; letter-spacing:0.05em; white-space:nowrap; }
    .msi-item.active { color:var(--color-primary); }
    .msi-item.done { color:var(--color-secondary); }
    .msi-arrow { color:#ddd; }
    .seat-car-tabs { display:flex; gap:6px; flex-wrap:wrap; margin-bottom:14px; }
    .seat-car-tab { padding:5px 14px; border:1.5px solid var(--color-border); border-radius:20px; font-size:0.8rem; cursor:pointer; background:var(--color-bg); color:var(--color-text-light); transition:all 0.15s; }
    .seat-car-tab:hover { border-color:var(--color-secondary); color:var(--color-secondary); }
    .seat-car-tab.active { background:var(--color-primary); border-color:var(--color-primary); color:#fff; }
    .seat-map-container { overflow-x:auto; padding-bottom:4px; }
    .seat-col-headers { display:flex; align-items:center; margin-bottom:4px; padding-left:28px; gap:3px; }
    .seat-col-head { width:34px; text-align:center; font-size:0.65rem; font-weight:700; color:#aaa; letter-spacing:0.1em; }
    .seat-aisle-space { width:14px; }
    .seat-rows { display:flex; flex-direction:column; gap:3px; }
    .seat-row { display:flex; align-items:center; gap:3px; }
    .seat-row-no { width:24px; font-size:0.65rem; color:#bbb; text-align:right; padding-right:4px; flex-shrink:0; }
    .seat-btn { width:34px; height:38px; border-radius:5px 5px 3px 3px; border:1.5px solid; font-size:0.65rem; font-weight:700; cursor:pointer; transition:transform 0.1s; display:flex; align-items:center; justify-content:center; flex-shrink:0; position:relative; }
    .seat-btn::before { content:''; position:absolute; top:-5px; left:5px; right:5px; height:5px; border-radius:3px 3px 0 0; }
    .seat-btn:not(.taken):hover { transform:translateY(-2px); }
    .seat-btn.avail { background:#eef5ff; border-color:#7aabdb; color:#1c3a6e; }
    .seat-btn.avail::before { background:#7aabdb; }
    .seat-btn.taken { background:#f5f5f5; border-color:#ddd; color:#ccc; cursor:not-allowed; }
    .seat-btn.taken::before { background:#ddd; }
    .seat-btn.selected { background:#1c3a6e; border-color:#1c3a6e; color:#fff; }
    .seat-btn.selected::before { background:#2a4f8a; }
    .seat-aisle-gap { width:14px; flex-shrink:0; }
    .seat-legend { display:flex; gap:14px; margin-top:10px; font-size:0.72rem; color:#888; flex-wrap:wrap; }
    .seat-legend-item { display:flex; align-items:center; gap:5px; }
    .seat-legend-box { width:13px; height:13px; border-radius:2px; border:1.5px solid; }
    .seat-sel-info { min-height:22px; font-size:0.82rem; color:var(--color-primary); font-weight:700; margin-top:8px; }

    /* ==================== ãƒãƒ«ã‚¹åˆ¸é¢¨ãƒ‡ã‚¸ã‚¿ãƒ«åˆ‡ç¬¦ ==================== */
    .maruku-wrap { display:flex; justify-content:center; padding:4px 0 16px; }
    .maruku-ticket {
      width:440px; max-width:100%; background:linear-gradient(160deg,#fdf8ee 0%,#fdf2e0 100%);
      border:1.5px solid #c8a86a; border-radius:3px; position:relative;
      box-shadow:2px 3px 16px rgba(0,0,0,0.18); overflow:hidden;
      font-family:'Noto Serif JP',serif;
    }
    .t-holes { position:absolute; left:0; top:0; bottom:0; width:16px;
      background:repeating-linear-gradient(180deg,transparent 0,transparent 7px,rgba(200,168,106,0.4) 7px,rgba(200,168,106,0.4) 8px); }
    .t-holes::after { content:''; position:absolute; right:0; top:0; bottom:0; width:1px; background:#e0c88a; }
    .t-body { padding:14px 16px 0 24px; }
    .t-head { display:flex; justify-content:space-between; align-items:flex-start; border-bottom:2px solid #c8a86a; padding-bottom:10px; margin-bottom:10px; }
    .t-company { font-size:0.75rem; font-weight:700; color:#5a3e1b; letter-spacing:0.1em; }
    .t-company-en { font-size:0.58rem; color:#a0845a; letter-spacing:0.2em; }
    .t-type-name { font-size:0.85rem; font-weight:700; color:#8b1a1a; letter-spacing:0.06em; text-align:right; }
    .t-validity { font-size:0.6rem; color:#aaa; text-align:right; margin-top:2px; }
    .t-route { display:flex; align-items:center; justify-content:center; gap:12px; padding:10px 0 12px; border-bottom:1px solid #e8d5ad; }
    .t-st { text-align:center; }
    .t-st-name { font-size:1.45rem; font-weight:700; color:#2a1a08; letter-spacing:0.03em; }
    .t-st-sub { font-size:0.58rem; color:#aaa; letter-spacing:0.1em; margin-top:1px; }
    .t-arrow { font-size:1.1rem; color:#c8a86a; flex:1; text-align:center; }
    .t-grid { display:grid; grid-template-columns:1fr 1fr 1fr; border-left:1px solid #e8d5ad; border-top:1px solid #e8d5ad; }
    .t-cell { border-right:1px solid #e8d5ad; border-bottom:1px solid #e8d5ad; padding:5px 8px; }
    .t-cell.w2 { grid-column:span 2; }
    .t-cell.w3 { grid-column:span 3; }
    .t-cell-label { font-size:0.58rem; color:#aaa; letter-spacing:0.1em; margin-bottom:2px; }
    .t-cell-val { font-size:0.82rem; font-weight:600; color:#2a1a08; }
    .t-footer { display:flex; justify-content:space-between; align-items:flex-end; padding:8px 0 12px; border-top:1px dashed #c8a86a; margin-top:4px; }
    .t-fare-total { font-size:1.15rem; font-weight:700; color:#8b1a1a; }
    .t-fare-label { font-size:0.6rem; color:#aaa; letter-spacing:0.08em; }
    .t-no { font-size:0.6rem; font-family:monospace; color:#bbb; letter-spacing:0.05em; text-align:right; }
    .t-magnetic { height:22px; background:#180e04; margin:0 -16px 0 -24px; display:flex; align-items:center; padding:0 16px 0 24px; }
    .t-mag-stripe { height:8px; width:100%; background:repeating-linear-gradient(90deg,#2e1a0a 0,#2e1a0a 3px,#180e04 3px,#180e04 5px); border-radius:1px; }

    @media print {
      body > *:not(#reserve-modal) { display:none !important; }
      #reserve-modal { position:static !important; background:none !important; padding:0 !important; }
      .modal-inner { box-shadow:none !important; padding:0 !important; max-width:100% !important; }
      .modal-close, .modal-step-ind, .modal-summary, #modal-heading,
      #modal-step-form, #modal-step-seat, #ticket-actions { display:none !important; }
      #modal-step-ticket { display:block !important; }
    }

    /* ==================== ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– ==================== */
    @media (max-width: 768px) {
      .search-grid { grid-template-columns: 1fr; }
      .search-grid .swap-btn { display: none; }
      .search-sub-grid { grid-template-columns: 1fr 1fr; }
      .train-card-body { grid-template-columns: 1fr; gap: 12px; }
      .train-fare-area { align-items: flex-start; flex-direction: row; flex-wrap: wrap; align-items: center; }
      .line-guide { grid-template-columns: 1fr; }
      .dep-time, .arr-time { font-size: 1.4rem; }
    }
    @media (max-width: 480px) {
      .search-box { padding: 24px; }
      .search-sub-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header class="site-header" id="site-header">
    <div class="container">
      <div class="header-inner">
        <a href="index.html" class="site-logo">
          <span class="logo-ja">äº¬è¯é¢¨ã®èŠ½</span>
          <span class="logo-en">Kznm LLC</span>
        </a>
        <nav class="global-nav" id="global-nav">
          <a href="index.html">ãƒ›ãƒ¼ãƒ </a>
          <a href="about.html">ä¼šç¤¾æ¦‚è¦</a>
          <a href="services.html">äº‹æ¥­å†…å®¹</a>
          <a href="news.html">ãŠçŸ¥ã‚‰ã›</a>
          <a href="reservation.html" class="active">åˆ—è»Šäºˆç´„</a>
          <a href="contact.html">ãŠå•ã„åˆã‚ã›</a>
        </nav>
        <button class="menu-toggle" id="menu-toggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </header>

  <!-- PAGE HEADER -->
  <div class="page-header">
    <div class="container">
      <h1>e<span style="font-family:var(--font-ja);">ã‚‹ã‚Šãã‚…ã†</span></h1>
      <p class="en">Train Reservation Service</p>
    </div>
  </div>

  <!-- BREADCRUMB -->
  <div class="breadcrumb">
    <div class="container">
      <ol>
        <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
        <li>åˆ—è»Šäºˆç´„</li>
      </ol>
    </div>
  </div>

  <!-- ==================== æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  ==================== -->
  <section class="section" style="background: var(--color-bg);">
    <div class="container">

      <!-- æº–å‚™ä¸­ãƒãƒŠãƒ¼ -->
      <div style="background:#fff3cd; border:1px solid #ffc107; border-left:4px solid #e67e00; border-radius:var(--radius); padding:20px 24px; margin-bottom:40px; max-width:800px;">
        <p style="font-size:0.82rem; font-weight:700; letter-spacing:0.1em; color:#7a4f00; margin-bottom:6px;">&#9888; eã‚‹ã‚Šãã‚…ã† â€” ã‚µãƒ¼ãƒ“ã‚¹æº–å‚™ä¸­</p>
        <p style="font-size:0.82rem; color:#7a4f00; letter-spacing:0.06em; line-height:1.9;">
          ç¾åœ¨ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³äºˆç´„ã®å—ä»˜ã‚’æº–å‚™ä¸­ã§ã™ã€‚<br>
          æ™‚åˆ»è¡¨ã®æ¤œç´¢ã¯ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚ã”äºˆç´„ã¯ãƒ¡ãƒ¼ãƒ«ã«ã¦ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
        </p>
      </div>

      <p class="section-title">åˆ—è»Šã‚’æ¤œç´¢ã™ã‚‹</p>
      <span class="section-title-en">Search Trains</span>

      <!-- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ -->
      <div class="search-tabs fade-in">
        <button class="search-tab active" id="tab-btn-route" onclick="switchSearchTab('route')">åŒºé–“ã§æ¤œç´¢</button>
        <button class="search-tab" id="tab-btn-date" onclick="switchSearchTab('date')">æ—¥ä»˜ã‹ã‚‰æ¢ã™</button>
      </div>

      <div class="search-box fade-in" style="max-width: 800px;">

        <!-- ========== ã‚¿ãƒ–â‘ : åŒºé–“æ¤œç´¢ ========== -->
        <div id="tab-route">
          <!-- å‡ºç™ºåœ°ãƒ»ç›®çš„åœ° -->
          <div class="search-grid">
            <div>
              <label for="from-station">å‡ºç™ºé§…</label>
              <select id="from-station">
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
              </select>
            </div>
            <button class="swap-btn" onclick="swapStations()" title="å‡ºç™ºåœ°ã¨ç›®çš„åœ°ã‚’å…¥ã‚Œæ›¿ãˆã‚‹">â‡„</button>
            <div>
              <label for="to-station">åˆ°ç€é§…</label>
              <select id="to-station">
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
              </select>
            </div>
          </div>

          <!-- æ—¥ä»˜ãƒ»äººæ•°ãƒ»åº§å¸­ã‚¯ãƒ©ã‚¹ -->
          <div class="search-sub-grid">
            <div>
              <label for="travel-date">ä¹—è»Šæ—¥</label>
              <input type="date" id="travel-date">
            </div>
            <div>
              <label for="passengers">äººæ•°</label>
              <select id="passengers">
                <option value="1">1å</option>
                <option value="2">2å</option>
                <option value="3">3å</option>
                <option value="4">4å</option>
                <option value="5">5å</option>
                <option value="6">6å</option>
              </select>
            </div>
            <div>
              <label for="seat-class">åº§å¸­ã‚¯ãƒ©ã‚¹ï¼ˆç‰¹æ€¥ãƒ»æ€¥è¡Œï¼‰</label>
              <select id="seat-class">
                <option value="general">ä¸€èˆ¬è»Šï¼ˆä¹—è»Šåˆ¸ã®ã¿ï¼‰</option>
                <option value="free" selected>è‡ªç”±å¸­ï¼ˆäºŒç­‰ï¼‰</option>
                <option value="reserved">äºŒç­‰æŒ‡å®šå¸­</option>
                <option value="special">ç‰¹åˆ¥è»Šï¼ˆã‚°ãƒªãƒ¼ãƒ³æŒ‡å®šï¼‰</option>
              </select>
            </div>
            <div>
              <label for="purchase-type">è³¼å…¥ç¨®åˆ¥ï¼ˆç‰¹æ€¥ãƒ»æ€¥è¡Œï¼‰</label>
              <select id="purchase-type">
                <option value="set"  selected>ä¹—è»Šåˆ¸ï¼‹ç‰¹æ€¥ãƒ»æ€¥è¡Œåˆ¸</option>
                <option value="supp">ç‰¹æ€¥ãƒ»æ€¥è¡Œåˆ¸ã®ã¿</option>
              </select>
            </div>
          </div>

          <button class="btn btn-primary" style="width:100%; font-size:0.95rem; padding:14px;" onclick="searchTrains()">
            åˆ—è»Šã‚’æ¤œç´¢ã™ã‚‹
          </button>
          <div id="search-alert"></div>
        </div>

        <!-- ========== ã‚¿ãƒ–â‘¡: æ—¥ä»˜æ¤œç´¢ ========== -->
        <div id="tab-date" style="display:none;">
          <p style="font-size:0.82rem; color:var(--color-text-light); letter-spacing:0.06em; margin-bottom:20px; line-height:1.8;">
            æ—¥ä»˜ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãã®æ—¥ã«é‹è¡Œã•ã‚Œã‚‹ã™ã¹ã¦ã®åˆ—è»Šã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
          </p>
          <div style="display:flex; gap:12px; align-items:flex-end; flex-wrap:wrap; margin-bottom:8px;">
            <div style="flex:1; min-width:180px;">
              <label for="list-date">æ—¥ä»˜</label>
              <input type="date" id="list-date">
            </div>
            <div style="padding-bottom:0;">
              <button class="btn btn-primary" style="height:44px; padding:0 28px; font-size:0.95rem; white-space:nowrap;" onclick="displayDateTrains()">
                ã“ã®æ—¥ã®åˆ—è»Šã‚’è¡¨ç¤º
              </button>
            </div>
          </div>
          <div id="date-search-alert"></div>
          <div id="date-train-results" style="margin-top:28px;"></div>
        </div>

      </div>

      <!-- ==================== æ¤œç´¢çµæœ ==================== -->
      <div id="results-section" style="max-width:800px;">
        <div class="result-header">
          <h2 id="result-title"></h2>
          <span class="result-count" id="result-count"></span>
        </div>
        <div id="search-results"></div>
      </div>

      <!-- äºˆç´„å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
      <div id="reserve-success" style="max-width:800px;">
        ã”äºˆç´„ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚<br>
        ã”ç™»éŒ²ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç¢ºèªãƒ¡ãƒ¼ãƒ«ã‚’ãŠé€ã‚Šã—ã¾ã™ã€‚<br>
        ã”ä¸æ˜ãªç‚¹ã¯ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
      </div>


    </div>
  </section>

  <!-- ==================== è·¯ç·šæ¡ˆå†… ==================== -->
  <section class="section" style="background: var(--color-white);">
    <div class="container">
      <p class="section-title">ã”åˆ©ç”¨è·¯ç·š</p>
      <span class="section-title-en">Lines & Routes</span>
      <div class="line-guide fade-in" id="line-guide"></div>
    </div>
  </section>

  <!-- ==================== ã”åˆ©ç”¨æ¡ˆå†… ==================== -->
  <section class="section" style="background: var(--color-bg);">
    <div class="container">
      <p class="section-title">ã”åˆ©ç”¨æ¡ˆå†…</p>
      <span class="section-title-en">Information</span>
      <div style="max-width:720px;" class="fade-in">
        <table class="info-table">
          <tr>
            <th>äºˆç´„å—ä»˜æœŸé–“</th>
            <td>ä¹—è»Šæ—¥ã®1ãƒ¶æœˆå‰ 9:00 ã€œ å‡ºç™ºæ™‚åˆ»ã¾ã§</td>
          </tr>
          <tr>
            <th>äºˆç´„å¤‰æ›´ãƒ»å–æ¶ˆ</th>
            <td>ä¹—è»Šæ—¥ã®å‰æ—¥17:00ã¾ã§ç„¡æ–™ã€‚ä»¥é™ã¯æ‰€å®šã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™ãŒç™ºç”Ÿã—ã¾ã™ã€‚</td>
          </tr>
          <tr>
            <th>åº§å¸­ã‚¯ãƒ©ã‚¹</th>
            <td>
              <strong>è‡ªç”±å¸­</strong>ï¼šä¹—è»Šåˆ¸ã®ã¿ã€‚æŒ‡å®šãªã—ã€‚<br>
              <strong>æŒ‡å®šå¸­</strong>ï¼šä¹—è»Šåˆ¸ï¼‹åº§å¸­æŒ‡å®šæ–™é‡‘ï¼ˆ+Â¥520ï¼‰ã€‚<br>
              <strong>ã‚°ãƒªãƒ¼ãƒ³è»Š</strong>ï¼šä¸Šä½ã‚¯ãƒ©ã‚¹åº§å¸­ï¼ˆç‰¹æ€¥ã®ã¿è¨­å®šã€+Â¥1,050ï¼‰ã€‚
            </td>
          </tr>
          <tr>
            <th>ãŠæ”¯æ‰•ã„</th>
            <td>äºˆç´„ç¢ºå®šå¾Œã€æ¡ˆå†…ãƒ¡ãƒ¼ãƒ«ã«è¨˜è¼‰ã®æ–¹æ³•ã§ãŠæ”¯æ‰•ã„ãã ã•ã„ã€‚</td>
          </tr>
          <tr>
            <th>ãŠå•ã„åˆã‚ã›</th>
            <td>
              Mail: s7rinkai@gmail.com<br>
              å—ä»˜æ™‚é–“ï¼šå¹³æ—¥ 9:00ã€œ17:00 / åœŸæ—¥ç¥ 9:00ã€œ13:00
            </td>
          </tr>
        </table>
      </div>
    </div>
  </section>

  <!-- ==================== äºˆç´„ãƒ¢ãƒ¼ãƒ€ãƒ« ==================== -->
  <div id="reserve-modal" role="dialog" aria-modal="true" aria-labelledby="modal-heading">
    <div class="modal-inner" style="position:relative;">
      <button class="modal-close" onclick="closeModal()" aria-label="é–‰ã˜ã‚‹">Ã—</button>

      <!-- ã‚¹ãƒ†ãƒƒãƒ—è¡¨ç¤ºï¼ˆJS ã§å‹•çš„ç”Ÿæˆï¼‰ -->
      <div class="modal-step-ind" id="modal-step-ind"></div>

      <p class="modal-title" id="modal-heading">äºˆç´„å†…å®¹ã®ç¢ºèª</p>
      <div class="modal-summary" id="modal-summary"></div>

      <!-- Step 0: ä¹—é™é§…é¸æŠ (JS ã§ä¸­èº«ã‚’ç”Ÿæˆ) -->
      <div id="modal-step-stations" style="display:none;"></div>

      <!-- Step 1: åº§å¸­é¸æŠ (JS ã§ä¸­èº«ã‚’ç”Ÿæˆ) -->
      <div id="modal-step-seat" style="display:none;"></div>

      <!-- Step 2: å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
      <div id="modal-step-form" style="display:none;">
        <form id="reserve-form" novalidate>
          <input type="hidden" id="modal-train-id"              name="train-id">
          <input type="hidden" id="modal-fare"                  name="fare">
          <input type="hidden" id="modal-charter-pass-expected" name="charter-pass-expected">

          <div class="form-group" id="modal-charter-group" style="display:none;">
            <label for="res-charter-pass">äºˆç´„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ <span class="required">ï¼Š</span></label>
            <input type="password" id="res-charter-pass" name="charter-pass" placeholder="å›£ä½“å°‚ç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
            <p id="modal-charter-err" style="color:#c0392b; font-size:0.78rem; margin-top:4px; display:none;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚</p>
          </div>

          <div class="form-group" style="margin-bottom:28px;">
            <label for="res-mcid">Minecraft ãƒ¦ãƒ¼ã‚¶ãƒ¼å <span class="required">ï¼Š</span></label>
            <input type="text" id="res-mcid" name="mcid" placeholder="ä¾‹ï¼‰Steve" required autocomplete="off"
              style="letter-spacing:0.04em;">
            <p style="font-size:0.76rem; color:var(--color-text-light); margin-top:6px; line-height:1.7;">
              ãˆã‚‹ã‚Šãã‚…ã†ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ Minecraft ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
            </p>
          </div>

          <div style="font-size:0.78rem; color:var(--color-text-light); letter-spacing:0.05em; margin-bottom:20px; line-height:1.9;">
            â€» æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ‡ãƒ¢ç‰ˆã§ã™ã€‚å®Ÿéš›ã®äºˆç´„ã¯æˆç«‹ã—ã¾ã›ã‚“ã€‚
          </div>

          <div style="display:flex; gap:12px;">
            <button type="button" class="btn btn-outline" style="flex:1;" id="form-back-btn" onclick="closeModal()">æˆ»ã‚‹</button>
            <button type="submit" class="btn btn-primary" style="flex:2;">äºˆç´„ã‚’ç¢ºå®šã™ã‚‹</button>
          </div>
        </form>
      </div>

      <!-- Step 3: ãƒ‡ã‚¸ã‚¿ãƒ«åˆ‡ç¬¦ -->
      <div id="modal-step-ticket" style="display:none;">
        <div id="digital-ticket"></div>
        <div id="gh-sync-status" style="display:none; margin-top:12px; padding:8px 14px; border-radius:6px; font-size:0.78rem; text-align:center;"></div>
        <div id="ticket-actions" style="display:flex; gap:12px; margin-top:20px; justify-content:center; flex-wrap:wrap;">
          <button class="btn btn-outline" style="padding:10px 24px;" onclick="window.print()">ğŸ–¨ å°åˆ·ã™ã‚‹</button>
          <button class="btn btn-primary"  style="padding:10px 24px;" onclick="closeModal()">é–‰ã˜ã‚‹</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <p class="logo-ja">äº¬è¯é¢¨ã®èŠ½</p>
          <p class="logo-en">Kznm LLC</p>
          <p>ç‘ ç’ƒéƒ¡ é¢¨ã®èŠ½å¸‚ å°æç¥å®® äºŒä¸ç›® 851ç•ª<br>é¢¨ã®èŠ½ä¸­å¤®ãƒ“ãƒ«<br>Mail: s7rinkai@gmail.com</p>
        </div>
        <div class="footer-col">
          <h4>ã‚µã‚¤ãƒˆãƒãƒƒãƒ—</h4>
          <ul>
            <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
            <li><a href="about.html">ä¼šç¤¾æ¦‚è¦</a></li>
            <li><a href="services.html">äº‹æ¥­å†…å®¹</a></li>
            <li><a href="news.html">ãŠçŸ¥ã‚‰ã›</a></li>
            <li><a href="reservation.html">åˆ—è»Šäºˆç´„</a></li>
            <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>äº‹æ¥­å†…å®¹</h4>
          <ul>
            <li><a href="services.html">æ—…å®¢é‹è¼¸</a></li>
            <li><a href="services.html">äº‹æ¥­é–‹ç™º</a></li>
            <li><a href="services.html">ä¸å‹•ç”£é–‹ç™º</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>ãƒãƒªã‚·ãƒ¼</h4>
          <ul>
            <li><a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
            <li><a href="#">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨ç¤º</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 äº¬è¯é¢¨ã®èŠ½ (Kznm LLC). All Rights Reserved.</p>
        <p>Designed with care.</p>
      </div>
    </div>
  </footer>

  <script src="js/main.js"></script>
  <script src="js/timetable-data.js"></script>
  <script src="js/gh-sync-config.js" onerror="/* config not deployed yet */"></script>
  <script src="js/reservation.js"></script>
  <script>
    // è·¯ç·šæ¡ˆå†…ã‚«ãƒ¼ãƒ‰ã‚’å‹•çš„ç”Ÿæˆ
    document.addEventListener('DOMContentLoaded', () => {
      const guide = document.getElementById('line-guide');
      LINES.filter(line => line.own !== false).forEach(line => {
        const card = document.createElement('div');
        card.className = 'line-guide-card';
        card.style.borderLeftColor = line.color;
        card.innerHTML = `
          <h4>${line.name}</h4>
          <p class="operator">${line.operator}</p>
          <div class="station-list">
            ${line.stationCodes.map(code => {
              const st = STATION_REGISTRY[code];
              return `<span class="station-pill" title="${code}">${st ? st.name : code} <span style="font-size:0.65rem;opacity:0.7;">[${code}]</span></span>`;
            }).join('')}
          </div>
        `;
        guide.appendChild(card);
      });

      // æ¤œç´¢çµæœä»¶æ•°ã®æ›´æ–°
      const observer = new MutationObserver(() => {
        const count = document.querySelectorAll('#search-results .train-card').length;
        document.getElementById('result-count') && (document.getElementById('result-count').textContent = `${count}ä»¶`);
      });
      observer.observe(document.getElementById('search-results'), { childList: true });
    });
  </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>
</html>
